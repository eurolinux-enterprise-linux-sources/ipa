From a51860d639f13dab16e507b3663a0c1f1a64d0af Mon Sep 17 00:00:00 2001
From: Ana Krivokapic <akrivoka@redhat.com>
Date: Wed, 10 Apr 2013 15:45:01 +0200
Subject: [PATCH] Remove any reference to HBAC source hosts from help

https://fedorahosted.org/freeipa/ticket/3528
---
 ipalib/plugins/hbacrule.py | 16 ++++++++--------
 ipalib/plugins/hbactest.py |  6 ++----
 2 files changed, 10 insertions(+), 12 deletions(-)

diff --git a/ipalib/plugins/hbacrule.py b/ipalib/plugins/hbacrule.py
index 7a29cc0da500f73f3d2bd866a51f8fa59d39b029..d0e6c8f57cb30f9b7825be30b3a2f8d345bc106c 100644
--- a/ipalib/plugins/hbacrule.py
+++ b/ipalib/plugins/hbacrule.py
@@ -25,15 +25,15 @@ from ipalib import _, ngettext
 __doc__ = _("""
 Host-based access control
 
-Control who can access what services on what hosts and from where. You
-can use HBAC to control which users or groups on a source host can
+Control who can access what services on what hosts. You
+can use HBAC to control which users or groups can
 access a service, or group of services, on a target host.
 
-You can also specify a category of users, target hosts, and source
-hosts. This is currently limited to "all", but might be expanded in the
+You can also specify a category of users and target hosts.
+This is currently limited to "all", but might be expanded in the
 future.
 
-Target hosts and source hosts in HBAC rules must be hosts managed by IPA.
+Target hosts in HBAC rules must be hosts managed by IPA.
 
 The available services and groups of services are controlled by the
 hbacsvc and hbacsvcgroup plug-ins respectively.
@@ -42,7 +42,7 @@ EXAMPLES:
 
  Create a rule, "test1", that grants all users access to the host "server" from
  anywhere:
-   ipa hbacrule-add --usercat=all --srchostcat=all test1
+   ipa hbacrule-add --usercat=all test1
    ipa hbacrule-add-host --hosts=server.example.com test1
 
  Display the properties of a named HBAC rule:
@@ -50,7 +50,7 @@ EXAMPLES:
 
  Create a rule for a specific service. This lets the user john access
  the sshd service on any machine from any machine:
-   ipa hbacrule-add --hostcat=all --srchostcat=all john_sshd
+   ipa hbacrule-add --hostcat=all john_sshd
    ipa hbacrule-add-user --users=john john_sshd
    ipa hbacrule-add-service --hbacsvcs=sshd john_sshd
 
@@ -59,7 +59,7 @@ EXAMPLES:
    ipa hbacsvcgroup-add ftpers
    ipa hbacsvc-add sftp
    ipa hbacsvcgroup-add-member --hbacsvcs=ftp,sftp ftpers
-   ipa hbacrule-add --hostcat=all --srchostcat=all john_ftp
+   ipa hbacrule-add --hostcat=all john_ftp
    ipa hbacrule-add-user --users=john john_ftp
    ipa hbacrule-add-service --hbacsvcgroups=ftpers john_ftp
 
diff --git a/ipalib/plugins/hbactest.py b/ipalib/plugins/hbactest.py
index 4e4a3c76187aee1b3d978485d175ea1dfd0901ec..1e6a37b5320ff4315c7e087ba0516c336d78ff19 100644
--- a/ipalib/plugins/hbactest.py
+++ b/ipalib/plugins/hbactest.py
@@ -27,7 +27,7 @@ import pyhbac
 __doc__ = _("""
 Simulate use of Host-based access controls
 
-HBAC rules control who can access what services on what hosts and from where.
+HBAC rules control who can access what services on what hosts.
 You can use HBAC to control which users or groups can access a service,
 or group of services, on a target host.
 
@@ -40,7 +40,7 @@ having access to the production environment.
 
  ipa hbactest --user= --host= --service=
               [--rules=rules-list] [--nodetail] [--enabled] [--disabled]
-              [--srchost= ] [--sizelimit= ]
+              [--sizelimit= ]
 
  --user, --host, and --service are mandatory, others are optional.
 
@@ -60,8 +60,6 @@ having access to the production environment.
  By default there is a IPA-wide limit to number of entries fetched, you can change it
  with --sizelimit option.
 
- If --srchost is specified, it will be ignored. It is left because of compatibility reasons only.
-
 EXAMPLES:
 
     1. Use all enabled HBAC rules in IPA database to simulate:
-- 
2.4.3

