From 68933b97015836a4dc2399856d17dd001772faa2 Mon Sep 17 00:00:00 2001
From: Rob Crittenden <rcritten@redhat.com>
Date: Wed, 17 Oct 2012 13:44:45 -0400
Subject: [PATCH] Fix requesting certificates that contain subject altnames.

https://fedorahosted.org/freeipa/ticket/3184
---
 ipalib/plugins/cert.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/ipalib/plugins/cert.py b/ipalib/plugins/cert.py
index 781eeb037b7bb390979798c41471c1f142f73415..c4bbf8215341d1fdbf8b84cf70ee7ebd8e2b96c4 100644
--- a/ipalib/plugins/cert.py
+++ b/ipalib/plugins/cert.py
@@ -336,6 +336,7 @@ class cert_request(VirtualCommand):
         subjectaltname = pkcs10.get_subjectaltname(request)
         if subjectaltname is not None:
             for name in subjectaltname:
+                name = unicode(name)
                 try:
                     hostentry = api.Command['host_show'](name, all=True, raw=True)['result']
                     hostdn = hostentry['dn']
-- 
1.6.0.6

